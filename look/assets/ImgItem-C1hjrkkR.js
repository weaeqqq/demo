import{m as k,n as w,c as M,e as $,G as j,y as C,b as q,I as F,H as L,J as G,K as H,h as A,t as E,M as J,l as K,E as B,d as Z,L as Q}from"./index-W5Pqtsdo.js";import{d as O,r as y,c as D,o as W,b as X,e as Y,w as ee,h as u,m as te,T as ae,n as ne,D as se,t as oe,a as V,E as ie,G as le,l as U,v as I,x as P,q as ce,y as S,H as re,u as ue}from"./index-D1bqlCnZ.js";import{a as me}from"./index-CcAOzziU.js";import{_ as de}from"./plugin-vueexport-helper-CI3eOHmR.js";function ge(e,m){let l=null,d=0;return function(...i){if(l)return;const o=Date.now()-d,g=()=>{d=Date.now(),l=!1,e.apply(this,i)};o>=m?g():l=setTimeout(g,m)}}const[fe,T]=M("back-top"),pe={right:w,bottom:w,zIndex:w,target:[String,Object],offset:k(200),immediate:Boolean,teleport:{type:[String,Object],default:"body"}};var ve=O({name:fe,inheritAttrs:!1,props:pe,emits:["click"],setup(e,{emit:m,slots:l,attrs:d}){let i=!1;const o=y(!1),g=y(),p=y(),h=D(()=>$(j(e.zIndex),{right:C(e.right),bottom:C(e.bottom)})),x=a=>{var r;m("click",a),(r=p.value)==null||r.scrollTo({top:0,behavior:e.immediate?"auto":"smooth"})},t=()=>{o.value=p.value?H(p.value)>=+e.offset:!1},n=()=>{const{target:a}=e;if(typeof a=="string"){const r=document.querySelector(a);if(r)return r}else return a},s=()=>{L&&ne(()=>{p.value=e.target?n():G(g.value),t()})};return q("scroll",ge(t,100),{target:p}),W(s),X(()=>{i&&(o.value=!0,i=!1)}),Y(()=>{o.value&&e.teleport&&(o.value=!1,i=!0)}),ee(()=>e.target,s),()=>{const a=u("div",te({ref:e.teleport?void 0:g,class:T({active:o.value}),style:h.value,onClick:x},d),[l.default?l.default():u(F,{name:"back-top",class:T("icon")},null)]);return e.teleport?[u("div",{ref:g,class:T("placeholder")},null),u(ae,{to:e.teleport},{default:()=>[a]})]:a}}});const De=A(ve),[he,b,z]=M("pagination"),N=(e,m,l)=>({number:e,text:m,active:l}),be={mode:K("multi"),prevText:String,nextText:String,pageCount:k(0),modelValue:J(0),totalItems:k(0),showPageSize:k(5),itemsPerPage:k(10),forceEllipses:Boolean,showPrevButton:E,showNextButton:E};var xe=O({name:he,props:be,emits:["change","update:modelValue"],setup(e,{emit:m,slots:l}){const d=D(()=>{const{pageCount:t,totalItems:n,itemsPerPage:s}=e,a=+t||Math.ceil(+n/+s);return Math.max(1,a)}),i=D(()=>{const t=[],n=d.value,s=+e.showPageSize,{modelValue:a,forceEllipses:r}=e;let c=1,f=n;const _=s<n;_&&(c=Math.max(a-Math.floor(s/2),1),f=c+s-1,f>n&&(f=n,c=f-s+1));for(let v=c;v<=f;v++){const R=N(v,v,v===a);t.push(R)}if(_&&s>0&&r){if(c>1){const v=N(c-1,"...");t.unshift(v)}if(f<n){const v=N(f+1,"...");t.push(v)}}return t}),o=(t,n)=>{t=Z(t,1,d.value),e.modelValue!==t&&(m("update:modelValue",t),n&&m("change",t))};se(()=>o(e.modelValue));const g=()=>u("li",{class:b("page-desc")},[l.pageDesc?l.pageDesc():"".concat(e.modelValue,"/").concat(d.value)]),p=()=>{const{mode:t,modelValue:n,showPrevButton:s}=e;if(!s)return;const a=l["prev-text"],r=n===1;return u("li",{class:[b("item",{disabled:r,border:t==="simple",prev:!0}),B]},[u("button",{type:"button",disabled:r,onClick:()=>o(n-1,!0)},[a?a():e.prevText||z("prev")])])},h=()=>{const{mode:t,modelValue:n,showNextButton:s}=e;if(!s)return;const a=l["next-text"],r=n===d.value;return u("li",{class:[b("item",{disabled:r,border:t==="simple",next:!0}),B]},[u("button",{type:"button",disabled:r,onClick:()=>o(n+1,!0)},[a?a():e.nextText||z("next")])])},x=()=>i.value.map(t=>u("li",{class:[b("item",{active:t.active,page:!0}),B]},[u("button",{type:"button","aria-current":t.active||void 0,onClick:()=>o(t.number,!0)},[l.page?l.page(t):t.text])]));return()=>u("nav",{role:"navigation",class:b()},[u("ul",{class:b("items")},[p(),e.mode==="simple"?g():x(),h()])])}});const Ce=A(xe),ke=["src"],_e={class:"duration-time"},Pe={class:"time"},ye={class:"text"},we="https://wzzqlm.erbaiwulaoge.com",Be={__name:"ImgItem",props:{data:Object,checkName:String},emits:["clickItem"],setup(e,{emit:m}){const l=oe(),d=m,i=e,o=V({title:i.data.title||i.data.name||"标题",imageUrl:"",time:le(i.data.update_time),durationTime:ie(i.data.duration)});let g=["topic","vip","remen","remen2","remen3","shipin"].includes(i.data.channel)?"130px":"280px";["中文字幕","成人动漫","女优专区"].includes(i.data.tag)&&(g="280px");const p=V({height:g});let h=y();const{stop:x}=me(h,async([{isIntersecting:n}])=>{var s,a;if(n&&!o.imageUrl){x();let c=((a=(s=i.data)==null?void 0:s.thumb)!=null?a:"").replaceAll("//","/");c.includes(".txt")&&(c=c.substring(0,c.indexOf(".txt"))),c.charAt(0)!=="/"&&(c="/"+c);const f=we+c+".txt?size=400x225";let _=await ue.fetchData(f);o.imageUrl=_||f||"https://dl.gamdream.com/activity/galan/sds/mb/bg1.jpg"}});function t(){d("clickItem",i.checkName);const n=i.checkName&&i.checkName.includes("女优"),s={id:i.data.id};n&&(s.t=+new Date),l.push({name:n?"person":"detail",query:s})}return(n,s)=>{const a=Q;return I(),U("div",{class:"img-item",onClick:t},[P("div",{class:"img-box",ref_key:"myimg",ref:h,style:re(p)},[o.imageUrl?(I(),U("img",{key:1,class:"img",src:o.imageUrl},null,8,ke)):(I(),ce(a,{key:0,style:{"margin-top":"50px"},type:"spinner",color:"#1989fa"})),P("div",_e,S(o.durationTime),1),P("div",Pe,S(o.time),1)],4),P("p",ye,S(o.title),1)])}}},Ee=de(Be,[["__scopeId","data-v-6e5df484"]]);export{De as B,Ee as I,Ce as P};
