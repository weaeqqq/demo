import{S as C,U as I,V as U,r as b,f as B,K as D,g as M,W as E,X as x,w as h,c as g,o as G}from"./index-LWumKId4.js";function R(e){return E()?(x(e),!0):!1}function w(e){return typeof e=="function"?e():D(e)}const W=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const A=e=>e!=null,m=()=>{};function L(e){return e||M()}function V(...e){if(e.length!==1)return C(...e);const t=e[0];return typeof t=="function"?I(U(()=>({get:t,set:m}))):b(t)}function $(e,t){L(t)&&B(e,t)}function y(e){var t;const u=w(e);return(t=u==null?void 0:u.$el)!=null?t:u}const T=W?window:void 0,q=W?window.document:void 0;function z(){const e=b(!1),t=M();return t&&G(()=>{e.value=!0},t),e}function _(e){const t=z();return g(()=>(t.value,!!e()))}function K(e,t,u={}){const{window:l=T,...f}=u;let n;const c=_(()=>l&&"MutationObserver"in l),a=()=>{n&&(n.disconnect(),n=void 0)},s=g(()=>{const r=w(e),d=(Array.isArray(r)?r:[r]).map(y).filter(A);return new Set(d)}),v=h(()=>s.value,r=>{a(),c.value&&l&&r.size&&(n=new MutationObserver(t),r.forEach(d=>n.observe(d,f)))},{immediate:!0,flush:"post"}),i=()=>n==null?void 0:n.takeRecords(),o=()=>{a(),v()};return R(o),{isSupported:c,stop:o,takeRecords:i}}function X(e,t,u={}){const{root:l,rootMargin:f="0px",threshold:n=.1,window:c=T,immediate:a=!0}=u,s=_(()=>c&&"IntersectionObserver"in c),v=g(()=>{const p=w(e);return(Array.isArray(p)?p:[p]).map(y).filter(A)});let i=m;const o=b(a),r=s.value?h(()=>[v.value,y(l),o.value],([p,k])=>{if(i(),!o.value||!p.length)return;const S=new IntersectionObserver(t,{root:y(k),rootMargin:f,threshold:n});p.forEach(O=>O&&S.observe(O)),i=()=>{S.disconnect(),i=m}},{immediate:a,flush:"post"}):m,d=()=>{i(),r(),o.value=!1};return R(d),{isSupported:s,isActive:o,pause(){i(),o.value=!1},resume(){o.value=!0},stop:d}}function j(e=null,t={}){var u,l,f;const{document:n=q,restoreOnUnmount:c=o=>o}=t,a=(u=n==null?void 0:n.title)!=null?u:"",s=V((l=e!=null?e:n==null?void 0:n.title)!=null?l:null),v=e&&typeof e=="function";function i(o){if(!("titleTemplate"in t))return o;const r=t.titleTemplate||"%s";return typeof r=="function"?r(o):w(r).replace(/%s/g,o)}return h(s,(o,r)=>{o!==r&&n&&(n.title=i(typeof o=="string"?o:""))},{immediate:!0}),t.observe&&!t.titleTemplate&&n&&!v&&K((f=n.head)==null?void 0:f.querySelector("title"),()=>{n&&n.title!==s.value&&(s.value=i(n.title))},{childList:!0}),$(()=>{if(c){const o=c(a,s.value||"");o!=null&&n&&(n.title=o)}}),s}export{X as a,j as u};
