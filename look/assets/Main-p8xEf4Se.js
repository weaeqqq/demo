import{L as q}from"./index-BPZjckKA.js";import{P as L,I as O,B as S}from"./ImgItem-gilz5hIp.js";import{B as T}from"./index-DpWk4h3r.js";import{r as o,a as M,o as $,k as c,l as g,t as r,F as z,x as B,A as _,B as f,h,s as D,v as A,C as G,q as J,j as x}from"./index-DfJtTt59.js";import{g as U,a as H,b as K,c as Q}from"./plugin-vueexport-helper-P9oraxeR.js";import{u as R}from"./index-DQsggrGA.js";const W=[{id:57,name:"VIP 专区",channel:"vip",url:"/vip/index.html",parent_id:0,icon:"/img/menu/home_icon_vip area.png",jump_name:"vipzq",data:[{id:58,name:"猫咪推荐",channel:"vip",url:"/vip/list-mmtj-1.html",parent_id:57,icon:"/img/menu/vip/maomituijian.png",jump_name:"mmtj"},{id:59,name:"原创国产",channel:"vip",url:"/vip/list-ycgc-1.html",parent_id:57,icon:"/img/menu/vip/yuanchuanguochan.png",jump_name:"ycgc"},{id:62,name:"制服淫穴",channel:"vip",url:"/vip/list-zfyx-1.html",parent_id:57,icon:"/img/menu/vip/zhifuyinxue.png",jump_name:"zfyx"},{id:60,name:"换脸AI区",channel:"vip",url:"/vip/list-hlaiq-1.html",parent_id:57,icon:"/img/menu/vip/huanlianai.png",jump_name:"hlaiq"},{id:61,name:"三级综艺",channel:"vip",url:"/vip/list-sjzy-1.html",parent_id:57,icon:"/img/menu/vip/sanjizongyi.png",jump_name:"sjzy"},{id:63,name:"次元动漫",channel:"vip",url:"/vip/list-cydm-1.html",parent_id:57,icon:"/img/menu/vip/ciyuandongman.png",jump_name:"cydm"},{id:64,name:"欧美大片",channel:"vip",url:"/vip/list-omdp-1.html",parent_id:57,icon:"/img/menu/vip/oumei dapian.png",jump_name:"omdp"},{id:65,name:"同性恋区",channel:"vip",url:"/vip/list-txzq-1.html",parent_id:57,icon:"/img/tongxing.png",jump_name:"txzq"}]},{id:1,name:"在线电影",channel:"shipin",url:"/shipin/index.html",parent_id:0,icon:"/img/menu/home_icon_Movie.png",jump_name:"zxdy",data:[{id:8,name:"短视频区",channel:"shipin",url:"/shipin/list-dsp-1.html",parent_id:1,icon:"/img/menu/shipin/duanshipinqu.png",jump_name:"dsp"},{id:9,name:"美女主播",channel:"shipin",url:"/shipin/list-mnzb-1.html",parent_id:1,icon:"/img/menu/shipin/meinvzhubo.png",jump_name:"mnzb"},{id:10,name:"国产精品",channel:"shipin",url:"/shipin/list-gcjp-1.html",parent_id:1,icon:"/img/menu/shipin/guochanjingpin.png",jump_name:"gcjp"},{id:11,name:"中文字幕",channel:"shipin",url:"/shipin/list-zwzm-1.html",parent_id:1,icon:"/img/menu/shipin/zhongwenzimu.png",jump_name:"zwzm"},{id:13,name:"亚洲无码",channel:"shipin",url:"/shipin/list-yzwm-1.html",parent_id:1,icon:"/img/menu/shipin/yazhouwuma.png",jump_name:"yzwm"},{id:14,name:"欧美精品",channel:"shipin",url:"/shipin/list-omjp-1.html",parent_id:1,icon:"/img/menu/shipin/oumeijingpin.png",jump_name:"omjp"},{id:15,name:"精彩动漫",channel:"shipin",url:"/shipin/list-crdm-1.html",parent_id:1,icon:"/img/menu/shipin/jingcaidongman.png",jump_name:"crdm"},{id:12,name:"女优专区",channel:"shipin",url:"/shipin/list-nyzq-1.html",parent_id:1,icon:"/img/menu/shipin/nvyouzhuanqu.png",jump_name:"nyzq"}]}],X={class:"list-page"},Y={class:"tab"},Z={class:"title-box"},nn={class:"text-box"},an=["onClick"],en={class:"list"},tn={class:"pages"},un={class:"pages pages-other"},gn={__name:"Main",setup(ln){const w=R();w.value="列表";const p=o(1),s=o(0),d=o("base-vip-mmtj-1"),E=o([]),b=o(),j=o(),y=o(!0),v=M({allData:[]});function F(e){window.scroll(0,0);const n=d.value.slice(0,d.value.lastIndexOf("-"))+"-"+e;d.value=n,C()}function I(e){p.value=e==="first"?1:s.value,F(p.value)}function k(e){const{channel:n,name:t,jump_name:i,url:u}=e;b.value=n,j.value=t;const l=n!=="topic"?"base-".concat(n,"-").concat(i,"-1"):u.replace(/\D/g,"");d.value=l}async function N(e){var n;const t=await H().catch(i=>!1);if(console.log("菜单1>>>>>",t),t!=null&&t.menus){const i=["vip","remen","remen2","remen3","shipin","topic"],u=Object.values(t.menus).filter(m=>i.includes(m.channel)),l=u.length?u:W;E.value=l;const a=(n=l.find(m=>m.channel==="vip"))==null?void 0:n.data;a&&k(a[0])}return t}async function C(e){var n,t;y.value=!0;const i=b.value!=="topic"?await K(d.value):await Q(d.value);v.allData=((n=i==null?void 0:i.list)==null?void 0:n.data)||((t=i==null?void 0:i.list)==null?void 0:t.list)||[];let u={};localStorage.getItem("VIP_CONFIG")&&(u=JSON.parse(localStorage.getItem("VIP_CONFIG"))),v.allData.map(l=>(l.tag=i.tagname,l.baseConfig=u,{...l})),s.value=i.list.last_page||(v.allData.length?1:0),y.value=!1}$(async()=>{if(!localStorage.getItem("VIP_CONFIG")){const e=await U();e&&localStorage.setItem("VIP_CONFIG",JSON.stringify(e))}await N(),C()});function P(e,n){p.value=1,k(n),C()}function V(e){}return(e,n)=>{const t=q,i=L,u=T,l=S;return c(),g("div",X,[r("div",Y,[(c(!0),g(z,null,B(E.value,a=>(c(),g("div",{key:a.name,class:"tab-item"},[r("div",Z,A(a.name),1),r("div",nn,[(c(!0),g(z,null,B(a.data,m=>(c(),g("div",{class:G(["label",m.name===j.value?"active":""]),key:m.name,onClick:sn=>P(a,m)},A(m.name),11,an))),128))])]))),128))]),_(h(t,{type:"spinner"},null,512),[[f,y.value]]),r("div",en,[(c(!0),g(z,null,B(v.allData,a=>(c(),J(O,{checkName:j.value,key:a.title||a.name,data:a,onClickItem:V},null,8,["checkName","data"]))),128))]),r("div",tn,[_(h(i,{onChange:F,modelValue:p.value,"onUpdate:modelValue":n[0]||(n[0]=a=>p.value=a),"page-count":s.value,"items-per-page":5,"force-ellipses":""},null,8,["modelValue","page-count"]),[[f,s.value>1]])]),_(r("div",un,[h(u,{type:"primary",disabled:p.value==1,onClick:n[1]||(n[1]=a=>I("first"))},{default:D(()=>[x("首页")]),_:1},8,["disabled"]),h(u,{type:"primary",disabled:p.value==s.value,onClick:n[2]||(n[2]=a=>I("last"))},{default:D(()=>[x("尾页")]),_:1},8,["disabled"])],512),[[f,s.value>10]]),_(r("p",{class:"page-total"},"总共："+A(s.value)+"页",513),[[f,s.value]]),h(l)])}}};export{gn as default};
