import{c as O,n as P,m as x,e as q,G as A,y as C,d as F,I as L,H as G,J as H,K,h as R,k as J,M as Z,t as E,E as w,g as Q,L as W}from"./index-DCk7_vsN.js";import{d as $,r as y,c as D,o as X,b as Y,e as ee,w as te,h as r,m as ae,T as ne,n as oe,D as se,y as ie,a as V,E as ce,G as le,k as B,l as M,t as _,q as re,v as I,H as ue,u as U}from"./index-DNrRxKug.js";import{a as me}from"./index-Hf0x4Fvj.js";import{_ as de}from"./plugin-vueexport-helper-C7ymUpZ8.js";function ge(e,m){let c=null,d=0;return function(...o){if(c)return;const i=Date.now()-d,g=()=>{d=Date.now(),c=!1,e.apply(this,o)};i>=m?g():c=setTimeout(g,m)}}const[fe,S]=O("back-top"),pe={right:P,bottom:P,zIndex:P,target:[String,Object],offset:x(200),immediate:Boolean,teleport:{type:[String,Object],default:"body"}};var ve=$({name:fe,inheritAttrs:!1,props:pe,emits:["click"],setup(e,{emit:m,slots:c,attrs:d}){let o=!1;const i=y(!1),g=y(),f=y(),h=D(()=>q(A(e.zIndex),{right:C(e.right),bottom:C(e.bottom)})),k=a=>{var l;m("click",a),(l=f.value)==null||l.scrollTo({top:0,behavior:e.immediate?"auto":"smooth"})},t=()=>{i.value=f.value?K(f.value)>=+e.offset:!1},n=()=>{const{target:a}=e;if(typeof a=="string"){const l=document.querySelector(a);if(l)return l}else return a},s=()=>{G&&oe(()=>{f.value=e.target?n():H(g.value),t()})};return F("scroll",ge(t,100),{target:f}),X(s),Y(()=>{o&&(i.value=!0,o=!1)}),ee(()=>{i.value&&e.teleport&&(i.value=!1,o=!0)}),te(()=>e.target,s),()=>{const a=r("div",ae({ref:e.teleport?void 0:g,class:S({active:i.value}),style:h.value,onClick:k},d),[c.default?c.default():r(L,{name:"back-top",class:S("icon")},null)]);return e.teleport?[r("div",{ref:g,class:S("placeholder")},null),r(ne,{to:e.teleport},{default:()=>[a]})]:a}}});const Ne=R(ve),[he,b,z]=O("pagination"),T=(e,m,c)=>({number:e,text:m,active:c}),be={mode:J("multi"),prevText:String,nextText:String,pageCount:x(0),modelValue:Z(0),totalItems:x(0),showPageSize:x(5),itemsPerPage:x(10),forceEllipses:Boolean,showPrevButton:E,showNextButton:E};var ke=$({name:he,props:be,emits:["change","update:modelValue"],setup(e,{emit:m,slots:c}){const d=D(()=>{const{pageCount:t,totalItems:n,itemsPerPage:s}=e,a=+t||Math.ceil(+n/+s);return Math.max(1,a)}),o=D(()=>{const t=[],n=d.value,s=+e.showPageSize,{modelValue:a,forceEllipses:l}=e;let v=1,u=n;const N=s<n;N&&(v=Math.max(a-Math.floor(s/2),1),u=v+s-1,u>n&&(u=n,v=u-s+1));for(let p=v;p<=u;p++){const j=T(p,p,p===a);t.push(j)}if(N&&s>0&&l){if(v>1){const p=T(v-1,"...");t.unshift(p)}if(u<n){const p=T(u+1,"...");t.push(p)}}return t}),i=(t,n)=>{t=Q(t,1,d.value),e.modelValue!==t&&(m("update:modelValue",t),n&&m("change",t))};se(()=>i(e.modelValue));const g=()=>r("li",{class:b("page-desc")},[c.pageDesc?c.pageDesc():"".concat(e.modelValue,"/").concat(d.value)]),f=()=>{const{mode:t,modelValue:n,showPrevButton:s}=e;if(!s)return;const a=c["prev-text"],l=n===1;return r("li",{class:[b("item",{disabled:l,border:t==="simple",prev:!0}),w]},[r("button",{type:"button",disabled:l,onClick:()=>i(n-1,!0)},[a?a():e.prevText||z("prev")])])},h=()=>{const{mode:t,modelValue:n,showNextButton:s}=e;if(!s)return;const a=c["next-text"],l=n===d.value;return r("li",{class:[b("item",{disabled:l,border:t==="simple",next:!0}),w]},[r("button",{type:"button",disabled:l,onClick:()=>i(n+1,!0)},[a?a():e.nextText||z("next")])])},k=()=>o.value.map(t=>r("li",{class:[b("item",{active:t.active,page:!0}),w]},[r("button",{type:"button","aria-current":t.active||void 0,onClick:()=>i(t.number,!0)},[c.page?c.page(t):t.text])]));return()=>r("nav",{role:"navigation",class:b()},[r("ul",{class:b("items")},[f(),e.mode==="simple"?g():k(),h()])])}});const Ce=R(ke),xe=["src"],_e={class:"duration-time"},ye={class:"time"},Pe={class:"text"},we="https://mabwhfpvtq.1wu6qbek.com",Be={__name:"ImgItem",props:{data:Object,checkName:String},emits:["clickItem"],setup(e,{emit:m}){const c=ie(),d=m,o=e,i=V({title:o.data.title||o.data.name||"标题",imageUrl:"",time:ce(o.data.update_time),durationTime:le(o.data.duration)});let g=["topic","vip","remen","remen2","remen3","shipin"].includes(o.data.channel)?"130px":"280px";["中文字幕","成人动漫","女优专区"].includes(o.data.tag)&&(g="280px");const f=V({height:g});let h=y();const{stop:k}=me(h,async([{isIntersecting:n}])=>{var s,a;if(n&&!i.imageUrl){k();const l=((a=(s=o.data)==null?void 0:s.thumb)==null?void 0:a.indexOf("/"))==0?o.data.thumb:"/".concat(o.data.thumb),v=we+l;let u=await U.fetchData(v);u.includes("data:image/jpg;base64")||(u=U.imgDecrypt(u)),i.imageUrl=u||"https://dl.gamdream.com/activity/galan/sds/mb/bg1.jpg"}});function t(){d("clickItem",o.checkName);const n=o.checkName&&o.checkName.includes("女优"),s={id:o.data.id};n&&(s.t=+new Date),c.push({name:n?"person":"detail",query:s})}return(n,s)=>{const a=W;return B(),M("div",{class:"img-item",onClick:t},[_("div",{class:"img-box",ref_key:"myimg",ref:h,style:ue(f)},[i.imageUrl?(B(),M("img",{key:1,class:"img",src:i.imageUrl},null,8,xe)):(B(),re(a,{key:0,style:{"margin-top":"50px"},type:"spinner",color:"#1989fa"})),_("div",_e,I(i.durationTime),1),_("div",ye,I(i.time),1)],4),_("p",Pe,I(i.title),1)])}}},Ee=de(Be,[["__scopeId","data-v-02825943"]]);export{Ne as B,Ee as I,Ce as P};
