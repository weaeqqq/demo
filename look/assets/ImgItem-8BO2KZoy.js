import{c as R,n as y,m as k,e as $,G as F,y as C,d as q,I as L,H as G,J as H,K as J,h as O,k as K,M as Z,t as E,E as w,g as Q,L as W}from"./index-By3yC4TB.js";import{d as j,r as _,c as D,o as X,b as Y,e as ee,w as te,h as r,m as ae,T as ne,n as oe,D as se,y as ie,a as V,E as ce,G as le,k as B,l as M,t as P,q as re,v as I,H as ue,u as U}from"./index-B3O0cJH_.js";import{a as me}from"./index-Cv7Dd05p.js";import{_ as de}from"./plugin-vueexport-helper-t59a_SLk.js";function ge(e,u){let c=null,m=0;return function(...i){if(c)return;const o=Date.now()-m,d=()=>{m=Date.now(),c=!1,e.apply(this,i)};o>=u?d():c=setTimeout(d,u)}}const[fe,S]=R("back-top"),pe={right:y,bottom:y,zIndex:y,target:[String,Object],offset:k(200),immediate:Boolean,teleport:{type:[String,Object],default:"body"}};var he=j({name:fe,inheritAttrs:!1,props:pe,emits:["click"],setup(e,{emit:u,slots:c,attrs:m}){let i=!1;const o=_(!1),d=_(),g=_(),h=D(()=>$(F(e.zIndex),{right:C(e.right),bottom:C(e.bottom)})),b=a=>{var l;u("click",a),(l=g.value)==null||l.scrollTo({top:0,behavior:e.immediate?"auto":"smooth"})},t=()=>{o.value=g.value?J(g.value)>=+e.offset:!1},n=()=>{const{target:a}=e;if(typeof a=="string"){const l=document.querySelector(a);if(l)return l}else return a},s=()=>{G&&oe(()=>{g.value=e.target?n():H(d.value),t()})};return q("scroll",ge(t,100),{target:g}),X(s),Y(()=>{i&&(o.value=!0,i=!1)}),ee(()=>{o.value&&e.teleport&&(o.value=!1,i=!0)}),te(()=>e.target,s),()=>{const a=r("div",ae({ref:e.teleport?void 0:d,class:S({active:o.value}),style:h.value,onClick:b},m),[c.default?c.default():r(L,{name:"back-top",class:S("icon")},null)]);return e.teleport?[r("div",{ref:d,class:S("placeholder")},null),r(ne,{to:e.teleport},{default:()=>[a]})]:a}}});const Ne=O(he),[ve,x,z]=R("pagination"),T=(e,u,c)=>({number:e,text:u,active:c}),xe={mode:K("multi"),prevText:String,nextText:String,pageCount:k(0),modelValue:Z(0),totalItems:k(0),showPageSize:k(5),itemsPerPage:k(10),forceEllipses:Boolean,showPrevButton:E,showNextButton:E};var be=j({name:ve,props:xe,emits:["change","update:modelValue"],setup(e,{emit:u,slots:c}){const m=D(()=>{const{pageCount:t,totalItems:n,itemsPerPage:s}=e,a=+t||Math.ceil(+n/+s);return Math.max(1,a)}),i=D(()=>{const t=[],n=m.value,s=+e.showPageSize,{modelValue:a,forceEllipses:l}=e;let v=1,p=n;const N=s<n;N&&(v=Math.max(a-Math.floor(s/2),1),p=v+s-1,p>n&&(p=n,v=p-s+1));for(let f=v;f<=p;f++){const A=T(f,f,f===a);t.push(A)}if(N&&s>0&&l){if(v>1){const f=T(v-1,"...");t.unshift(f)}if(p<n){const f=T(p+1,"...");t.push(f)}}return t}),o=(t,n)=>{t=Q(t,1,m.value),e.modelValue!==t&&(u("update:modelValue",t),n&&u("change",t))};se(()=>o(e.modelValue));const d=()=>r("li",{class:x("page-desc")},[c.pageDesc?c.pageDesc():"".concat(e.modelValue,"/").concat(m.value)]),g=()=>{const{mode:t,modelValue:n,showPrevButton:s}=e;if(!s)return;const a=c["prev-text"],l=n===1;return r("li",{class:[x("item",{disabled:l,border:t==="simple",prev:!0}),w]},[r("button",{type:"button",disabled:l,onClick:()=>o(n-1,!0)},[a?a():e.prevText||z("prev")])])},h=()=>{const{mode:t,modelValue:n,showNextButton:s}=e;if(!s)return;const a=c["next-text"],l=n===m.value;return r("li",{class:[x("item",{disabled:l,border:t==="simple",next:!0}),w]},[r("button",{type:"button",disabled:l,onClick:()=>o(n+1,!0)},[a?a():e.nextText||z("next")])])},b=()=>i.value.map(t=>r("li",{class:[x("item",{active:t.active,page:!0}),w]},[r("button",{type:"button","aria-current":t.active||void 0,onClick:()=>o(t.number,!0)},[c.page?c.page(t):t.text])]));return()=>r("nav",{role:"navigation",class:x()},[r("ul",{class:x("items")},[g(),e.mode==="simple"?d():b(),h()])])}});const Ce=O(be),ke=["src"],Pe={class:"duration-time"},_e={class:"time"},ye={class:"text"},we="https://jnew.tlxxw.cc/",Be={__name:"ImgItem",props:{data:Object,checkName:String},emits:["clickItem"],setup(e,{emit:u}){const c=ie(),m=u,i=e,o=V({title:i.data.title||i.data.name||"标题",imageUrl:"",time:ce(i.data.update_time),durationTime:le(i.data.duration)});let d=["topic","vip","remen","remen2","remen3","shipin"].includes(i.data.channel)?"130px":"280px";["中文字幕","成人动漫","女优专区"].includes(i.data.tag)&&(d="280px");const g=V({height:d});let h=_();const{stop:b}=me(h,async([{isIntersecting:n}])=>{if(n&&!o.imageUrl){b();const s=we+i.data.thumb;let a=await U.fetchData(s);a.includes("data:image/jpg;base64")||(a=U.imgDecrypt(a)),o.imageUrl=a}});function t(){m("clickItem",i.checkName);const n=i.checkName&&i.checkName.includes("女优"),s={id:i.data.id};n&&(s.t=+new Date),c.push({name:n?"person":"detail",query:s})}return(n,s)=>{const a=W;return B(),M("div",{class:"img-item",onClick:t},[P("div",{class:"img-box",ref_key:"myimg",ref:h,style:ue(g)},[o.imageUrl?(B(),M("img",{key:1,class:"img",src:o.imageUrl},null,8,ke)):(B(),re(a,{key:0,style:{"margin-top":"50px"},type:"spinner",color:"#1989fa"})),P("div",Pe,I(o.durationTime),1),P("div",_e,I(o.time),1)],4),P("p",ye,I(o.title),1)])}}},Ee=de(Be,[["__scopeId","data-v-0824e199"]]);export{Ne as B,Ee as I,Ce as P};
