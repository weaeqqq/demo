import{P as C,Q as I,r as b,R as U,K as B,S as D,U as E,f as x,g as M,w as h,c as g,o as G}from"./index-CSej58vs.js";function R(e){return D()?(E(e),!0):!1}function w(e){return typeof e=="function"?e():B(e)}const A=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const T=e=>e!=null,m=()=>{};function L(e){return M()}function $(...e){if(e.length!==1)return C(...e);const t=e[0];return typeof t=="function"?I(U(()=>({get:t,set:m}))):b(t)}function q(e,t){L()&&x(e,t)}function y(e){var t;const u=w(e);return(t=u==null?void 0:u.$el)!=null?t:u}const W=A?window:void 0,z=A?window.document:void 0;function K(){const e=b(!1),t=M();return t&&G(()=>{e.value=!0},t),e}function _(e){const t=K();return g(()=>(t.value,!!e()))}function N(e,t,u={}){const{window:c=W,...f}=u;let n;const l=_(()=>c&&"MutationObserver"in c),a=()=>{n&&(n.disconnect(),n=void 0)},s=g(()=>{const r=w(e),d=(Array.isArray(r)?r:[r]).map(y).filter(T);return new Set(d)}),v=h(()=>s.value,r=>{a(),l.value&&r.size&&(n=new MutationObserver(t),r.forEach(d=>n.observe(d,f)))},{immediate:!0,flush:"post"}),i=()=>n==null?void 0:n.takeRecords(),o=()=>{a(),v()};return R(o),{isSupported:l,stop:o,takeRecords:i}}function Q(e,t,u={}){const{root:c,rootMargin:f="0px",threshold:n=.1,window:l=W,immediate:a=!0}=u,s=_(()=>l&&"IntersectionObserver"in l),v=g(()=>{const p=w(e);return(Array.isArray(p)?p:[p]).map(y).filter(T)});let i=m;const o=b(a),r=s.value?h(()=>[v.value,y(c),o.value],([p,k])=>{if(i(),!o.value||!p.length)return;const S=new IntersectionObserver(t,{root:y(k),rootMargin:f,threshold:n});p.forEach(O=>O&&S.observe(O)),i=()=>{S.disconnect(),i=m}},{immediate:a,flush:"post"}):m,d=()=>{i(),r(),o.value=!1};return R(d),{isSupported:s,isActive:o,pause(){i(),o.value=!1},resume(){o.value=!0},stop:d}}function V(e=null,t={}){var u,c,f;const{document:n=z,restoreOnUnmount:l=o=>o}=t,a=(u=n==null?void 0:n.title)!=null?u:"",s=$((c=e!=null?e:n==null?void 0:n.title)!=null?c:null),v=e&&typeof e=="function";function i(o){if(!("titleTemplate"in t))return o;const r=t.titleTemplate||"%s";return typeof r=="function"?r(o):w(r).replace(/%s/g,o)}return h(s,(o,r)=>{o!==r&&n&&(n.title=i(typeof o=="string"?o:""))},{immediate:!0}),t.observe&&!t.titleTemplate&&n&&!v&&N((f=n.head)==null?void 0:f.querySelector("title"),()=>{n&&n.title!==s.value&&(s.value=i(n.title))},{childList:!0}),q(()=>{if(l){const o=l(a,s.value||"");o!=null&&n&&(n.title=o)}}),s}export{Q as a,V as u};
