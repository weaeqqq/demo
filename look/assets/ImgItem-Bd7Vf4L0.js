import{c as z,n as y,m as k,e as $,G as j,y as D,d as F,I as q,H as L,J as G,K as H,h as A,k as K,M as J,t as E,E as I,g as Z,L as Q}from"./index-CrkYS9rH.js";import{d as O,r as P,c as N,o as W,b as X,e as Y,w as ee,h as u,m as te,T as ae,n as ne,D as se,y as oe,a as V,E as ie,G as le,k as B,l as U,t as _,q as ce,v as w,H as re,u as ue}from"./index-C5TzKFbA.js";import{a as me}from"./index-BHbbuVV1.js";import{_ as de}from"./plugin-vueexport-helper-D9xTlRps.js";function ge(e,m){let l=null,d=0;return function(...i){if(l)return;const o=Date.now()-d,g=()=>{d=Date.now(),l=!1,e.apply(this,i)};o>=m?g():l=setTimeout(g,m)}}const[fe,S]=z("back-top"),pe={right:y,bottom:y,zIndex:y,target:[String,Object],offset:k(200),immediate:Boolean,teleport:{type:[String,Object],default:"body"}};var ve=O({name:fe,inheritAttrs:!1,props:pe,emits:["click"],setup(e,{emit:m,slots:l,attrs:d}){let i=!1;const o=P(!1),g=P(),f=P(),h=N(()=>$(j(e.zIndex),{right:D(e.right),bottom:D(e.bottom)})),x=a=>{var r;m("click",a),(r=f.value)==null||r.scrollTo({top:0,behavior:e.immediate?"auto":"smooth"})},t=()=>{o.value=f.value?H(f.value)>=+e.offset:!1},n=()=>{const{target:a}=e;if(typeof a=="string"){const r=document.querySelector(a);if(r)return r}else return a},s=()=>{L&&ne(()=>{f.value=e.target?n():G(g.value),t()})};return F("scroll",ge(t,100),{target:f}),W(s),X(()=>{i&&(o.value=!0,i=!1)}),Y(()=>{o.value&&e.teleport&&(o.value=!1,i=!0)}),ee(()=>e.target,s),()=>{const a=u("div",te({ref:e.teleport?void 0:g,class:S({active:o.value}),style:h.value,onClick:x},d),[l.default?l.default():u(q,{name:"back-top",class:S("icon")},null)]);return e.teleport?[u("div",{ref:g,class:S("placeholder")},null),u(ae,{to:e.teleport},{default:()=>[a]})]:a}}});const Ce=A(ve),[he,b,M]=z("pagination"),T=(e,m,l)=>({number:e,text:m,active:l}),be={mode:K("multi"),prevText:String,nextText:String,pageCount:k(0),modelValue:J(0),totalItems:k(0),showPageSize:k(5),itemsPerPage:k(10),forceEllipses:Boolean,showPrevButton:E,showNextButton:E};var xe=O({name:he,props:be,emits:["change","update:modelValue"],setup(e,{emit:m,slots:l}){const d=N(()=>{const{pageCount:t,totalItems:n,itemsPerPage:s}=e,a=+t||Math.ceil(+n/+s);return Math.max(1,a)}),i=N(()=>{const t=[],n=d.value,s=+e.showPageSize,{modelValue:a,forceEllipses:r}=e;let c=1,p=n;const C=s<n;C&&(c=Math.max(a-Math.floor(s/2),1),p=c+s-1,p>n&&(p=n,c=p-s+1));for(let v=c;v<=p;v++){const R=T(v,v,v===a);t.push(R)}if(C&&s>0&&r){if(c>1){const v=T(c-1,"...");t.unshift(v)}if(p<n){const v=T(p+1,"...");t.push(v)}}return t}),o=(t,n)=>{t=Z(t,1,d.value),e.modelValue!==t&&(m("update:modelValue",t),n&&m("change",t))};se(()=>o(e.modelValue));const g=()=>u("li",{class:b("page-desc")},[l.pageDesc?l.pageDesc():"".concat(e.modelValue,"/").concat(d.value)]),f=()=>{const{mode:t,modelValue:n,showPrevButton:s}=e;if(!s)return;const a=l["prev-text"],r=n===1;return u("li",{class:[b("item",{disabled:r,border:t==="simple",prev:!0}),I]},[u("button",{type:"button",disabled:r,onClick:()=>o(n-1,!0)},[a?a():e.prevText||M("prev")])])},h=()=>{const{mode:t,modelValue:n,showNextButton:s}=e;if(!s)return;const a=l["next-text"],r=n===d.value;return u("li",{class:[b("item",{disabled:r,border:t==="simple",next:!0}),I]},[u("button",{type:"button",disabled:r,onClick:()=>o(n+1,!0)},[a?a():e.nextText||M("next")])])},x=()=>i.value.map(t=>u("li",{class:[b("item",{active:t.active,page:!0}),I]},[u("button",{type:"button","aria-current":t.active||void 0,onClick:()=>o(t.number,!0)},[l.page?l.page(t):t.text])]));return()=>u("nav",{role:"navigation",class:b()},[u("ul",{class:b("items")},[f(),e.mode==="simple"?g():x(),h()])])}});const De=A(xe),ke=["src"],_e={class:"duration-time"},Pe={class:"time"},ye={class:"text"},Ie="https://ipng.tlxxw.cc",Be={__name:"ImgItem",props:{data:Object,checkName:String},emits:["clickItem"],setup(e,{emit:m}){const l=oe(),d=m,i=e,o=V({title:i.data.title||i.data.name||"标题",imageUrl:"",time:ie(i.data.update_time),durationTime:le(i.data.duration)});let g=["topic","vip","remen","remen2","remen3","shipin"].includes(i.data.channel)?"130px":"280px";["中文字幕","成人动漫","女优专区"].includes(i.data.tag)&&(g="280px");const f=V({height:g});let h=P();const{stop:x}=me(h,async([{isIntersecting:n}])=>{var s,a;if(n&&!o.imageUrl){x();let c=((a=(s=i.data)==null?void 0:s.thumb)!=null?a:"").replaceAll("//","/");c.includes(".txt")&&(c=c.substring(0,c.indexOf(".txt"))),c.charAt(0)!=="/"&&(c="/"+c);const p=Ie+c+ue.addImgKeyParam(c);o.imageUrl=p||"https://dl.gamdream.com/activity/galan/sds/mb/bg1.jpg"}});function t(){d("clickItem",i.checkName);const n=i.checkName&&i.checkName.includes("女优"),s={id:i.data.id};n&&(s.t=+new Date),l.push({name:n?"person":"detail",query:s})}return(n,s)=>{const a=Q;return B(),U("div",{class:"img-item",onClick:t},[_("div",{class:"img-box",ref_key:"myimg",ref:h,style:re(f)},[o.imageUrl?(B(),U("img",{key:1,class:"img",src:o.imageUrl},null,8,ke)):(B(),ce(a,{key:0,style:{"margin-top":"50px"},type:"spinner",color:"#1989fa"})),_("div",_e,w(o.durationTime),1),_("div",Pe,w(o.time),1)],4),_("p",ye,w(o.title),1)])}}},Ee=de(Be,[["__scopeId","data-v-b64d4184"]]);export{Ce as B,Ee as I,De as P};
