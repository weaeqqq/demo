import{c as O,n as y,m as k,e as j,G as F,y as C,d as q,I as L,H as G,J as H,K,h as R,k as J,M as Z,t as E,E as B,g as Q,L as W}from"./index-D0ED7HJF.js";import{d as $,r as P,c as D,o as X,b as Y,e as ee,w as te,h as r,m as ae,T as ne,n as oe,D as se,y as ie,a as V,E as ce,G as le,k as I,l as z,t as _,q as re,v as w,H as ue,u as M}from"./index-BdK_GUC3.js";import{a as me}from"./index-2m4HhEJO.js";import{_ as de}from"./plugin-vueexport-helper-CpJBnnsg.js";function ge(e,m){let c=null,d=0;return function(...o){if(c)return;const i=Date.now()-d,g=()=>{d=Date.now(),c=!1,e.apply(this,o)};i>=m?g():c=setTimeout(g,m)}}const[fe,S]=O("back-top"),pe={right:y,bottom:y,zIndex:y,target:[String,Object],offset:k(200),immediate:Boolean,teleport:{type:[String,Object],default:"body"}};var ve=$({name:fe,inheritAttrs:!1,props:pe,emits:["click"],setup(e,{emit:m,slots:c,attrs:d}){let o=!1;const i=P(!1),g=P(),f=P(),h=D(()=>j(F(e.zIndex),{right:C(e.right),bottom:C(e.bottom)})),x=a=>{var l;m("click",a),(l=f.value)==null||l.scrollTo({top:0,behavior:e.immediate?"auto":"smooth"})},t=()=>{i.value=f.value?K(f.value)>=+e.offset:!1},n=()=>{const{target:a}=e;if(typeof a=="string"){const l=document.querySelector(a);if(l)return l}else return a},s=()=>{G&&oe(()=>{f.value=e.target?n():H(g.value),t()})};return q("scroll",ge(t,100),{target:f}),X(s),Y(()=>{o&&(i.value=!0,o=!1)}),ee(()=>{i.value&&e.teleport&&(i.value=!1,o=!0)}),te(()=>e.target,s),()=>{const a=r("div",ae({ref:e.teleport?void 0:g,class:S({active:i.value}),style:h.value,onClick:x},d),[c.default?c.default():r(L,{name:"back-top",class:S("icon")},null)]);return e.teleport?[r("div",{ref:g,class:S("placeholder")},null),r(ne,{to:e.teleport},{default:()=>[a]})]:a}}});const Ne=R(ve),[he,b,U]=O("pagination"),T=(e,m,c)=>({number:e,text:m,active:c}),be={mode:J("multi"),prevText:String,nextText:String,pageCount:k(0),modelValue:Z(0),totalItems:k(0),showPageSize:k(5),itemsPerPage:k(10),forceEllipses:Boolean,showPrevButton:E,showNextButton:E};var xe=$({name:he,props:be,emits:["change","update:modelValue"],setup(e,{emit:m,slots:c}){const d=D(()=>{const{pageCount:t,totalItems:n,itemsPerPage:s}=e,a=+t||Math.ceil(+n/+s);return Math.max(1,a)}),o=D(()=>{const t=[],n=d.value,s=+e.showPageSize,{modelValue:a,forceEllipses:l}=e;let v=1,u=n;const N=s<n;N&&(v=Math.max(a-Math.floor(s/2),1),u=v+s-1,u>n&&(u=n,v=u-s+1));for(let p=v;p<=u;p++){const A=T(p,p,p===a);t.push(A)}if(N&&s>0&&l){if(v>1){const p=T(v-1,"...");t.unshift(p)}if(u<n){const p=T(u+1,"...");t.push(p)}}return t}),i=(t,n)=>{t=Q(t,1,d.value),e.modelValue!==t&&(m("update:modelValue",t),n&&m("change",t))};se(()=>i(e.modelValue));const g=()=>r("li",{class:b("page-desc")},[c.pageDesc?c.pageDesc():"".concat(e.modelValue,"/").concat(d.value)]),f=()=>{const{mode:t,modelValue:n,showPrevButton:s}=e;if(!s)return;const a=c["prev-text"],l=n===1;return r("li",{class:[b("item",{disabled:l,border:t==="simple",prev:!0}),B]},[r("button",{type:"button",disabled:l,onClick:()=>i(n-1,!0)},[a?a():e.prevText||U("prev")])])},h=()=>{const{mode:t,modelValue:n,showNextButton:s}=e;if(!s)return;const a=c["next-text"],l=n===d.value;return r("li",{class:[b("item",{disabled:l,border:t==="simple",next:!0}),B]},[r("button",{type:"button",disabled:l,onClick:()=>i(n+1,!0)},[a?a():e.nextText||U("next")])])},x=()=>o.value.map(t=>r("li",{class:[b("item",{active:t.active,page:!0}),B]},[r("button",{type:"button","aria-current":t.active||void 0,onClick:()=>i(t.number,!0)},[c.page?c.page(t):t.text])]));return()=>r("nav",{role:"navigation",class:b()},[r("ul",{class:b("items")},[f(),e.mode==="simple"?g():x(),h()])])}});const Ce=R(xe),ke=["src"],_e={class:"duration-time"},Pe={class:"time"},ye={class:"text"},Be="https://mig.sxuet.top",Ie={__name:"ImgItem",props:{data:Object,checkName:String},emits:["clickItem"],setup(e,{emit:m}){const c=ie(),d=m,o=e,i=V({title:o.data.title||o.data.name||"标题",imageUrl:"",time:ce(o.data.update_time),durationTime:le(o.data.duration)});let g=["topic","vip","remen","remen2","remen3","shipin"].includes(o.data.channel)?"130px":"280px";["中文字幕","成人动漫","女优专区"].includes(o.data.tag)&&(g="280px");const f=V({height:g});let h=P();const{stop:x}=me(h,async([{isIntersecting:n}])=>{var s,a;if(n&&!i.imageUrl){x();const l=((a=(s=o.data)==null?void 0:s.thumb)==null?void 0:a.indexOf("/"))==0?o.data.thumb:"/".concat(o.data.thumb),v=Be+l+".txt?size=400x225";let u=await M.fetchData(v);u.includes("data:image/jpg;base64")||(u=M.imgDecrypt(u)),i.imageUrl=u}});function t(){d("clickItem",o.checkName);const n=o.checkName&&o.checkName.includes("女优"),s={id:o.data.id};n&&(s.t=+new Date),c.push({name:n?"person":"detail",query:s})}return(n,s)=>{const a=W;return I(),z("div",{class:"img-item",onClick:t},[_("div",{class:"img-box",ref_key:"myimg",ref:h,style:ue(f)},[i.imageUrl?(I(),z("img",{key:1,class:"img",src:i.imageUrl},null,8,ke)):(I(),re(a,{key:0,style:{"margin-top":"50px"},type:"spinner",color:"#1989fa"})),_("div",_e,w(i.durationTime),1),_("div",Pe,w(i.time),1)],4),_("p",ye,w(i.title),1)])}}},Ee=de(Ie,[["__scopeId","data-v-e49d2000"]]);export{Ne as B,Ee as I,Ce as P};
